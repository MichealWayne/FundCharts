/*!
 * FundCharts
 * @description: web/weapp/nodejs canvas charts library.
 * @version: 0.9.9
 * @author: Micheal Wayne(michealwayne@163.com)
 * @time: 2018~2021
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.FundCharts=e():t.FundCharts=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=12)}([function(t,e,n){"use strict";function r(t){return Object.prototype.toString.call(t).replace(/\[object\s|\]/g,"")}function a(t){return"Object"===r(t)}function i(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}e.__esModule=!0,e.type=r,e.isArray=function(t){return"Array"===r(t)},e.isString=function(t){return"String"===r(t)},e.isObject=a,e.isFunction=function(t){return"Function"===r(t)},e.each=i,e.cloneObjDeep=function t(e,n){if(!a(e)||!a(n))return!1;for(var r in e)!a(n[r])||o[r]?n[r]=n[r]||e[r]:t(e[r],n[r]);return n},e.isEmptyObj=o,e.getColorRgbArr=s,e.getColorRgba=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"rgba("+s(t).join(",")+","+e+")"},e.Lighting=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(t).map(function(t){return(t+=t*e)>255?255:t})},e.throwError=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";throw new Error("Error!"+t+".(FundCharts-"+e+" "+n+")")},e.min=function(t){return t.reduce(function(t,e){return Math.min(t,e)})},e.max=function(t){return t.reduce(function(t,e){return Math.max(t,e)})},e.getExtremum=function(t){for(var e=t[0],n=e,r=Math.max,a=Math.min,i=1,o=t.length;i<o;i++)e=r(e,t[i]),n=a(n,t[i]);return{_max:e,_min:n}};e.cloneArray=function(t,e){return i(t,function(t,n){e[n]=t}),e};function o(t){if(!t)return!1;for(var e in t)return!1;return!0}function s(t){var e=t.toLowerCase();if(e&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var n="#",r=1;r<4;r++)n+=e.slice(r,r+1).concat(e.slice(r,r+1));e=n}for(var a=[],i=1;i<7;i+=2)a.push(parseInt("0x"+e.slice(i,i+2),16));return a}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),a=n(0);e.drawLine=function(t,e,n,r,a){t.beginPath(),t.moveTo(e,n),t.lineTo(r,a),t.closePath(),t.stroke()},e.drawDashLine=function(t,e,n,r,a,i){i=i||5;var o,s,c=(o=r-e,s=a-n,~~(Math.sqrt(Math.pow(o,2)+Math.pow(s,2))/i));t.beginPath();for(var h=0;h<c;h++)t[1&h?"lineTo":"moveTo"](e+(r-e)/c*h,n+(a-n)/c*h);t.closePath(),t.stroke()},e.drawPoint=function(t,e,n,r,a,i,o){t.beginPath(),t.strokeStyle=a||"#fff",t.lineWidth=void 0!==o?o:1,t.arc(e,n,i,0,2*Math.PI,!0),t.closePath(),t.fillStyle=r,t.fill(),o&&t.stroke()},e.clearArc=function(t,e,n,r){var a=.1;!function e(n,r,i){var o=i-a,s=Math.sqrt(i*i-o*o),c=n-o,h=r-s,u=2*o,l=2*s;a<=i&&(t.clearRect(c,h,u,l),a+=.1,e(n,r,i))}(e,n,r)},e.retinaScale=function(t,e){var n=window.devicePixelRatio||1;if(1===n)return!1;var r=t.width,a=t.height;return t.width=r*n,t.height=a*n,e.scale(n,n),t.style.width=r+"px",t.style.height=a+"px",n},e.setContext=function(t,e,n){(!t||e?t.$el:t.opts.Canvas||n)||a.throwError("no chart object to set context","setContext");var i,o=t.opts,s=o.width||500,c=o.height||500;if(e){var h=t.$el;if(h.style.webkitUserSelect="none",h.style.userSelect="none",a.isFunction(h.getContext))i=h;else{(i=document.createElement("canvas")).id=o.id+"Canvas";var u=o.width||r.getStyle(h,"width"),l=o.height||r.getStyle(h,"height");i.width=u,i.height=l,h.appendChild(i)}}else if(n){var f="undefined"==typeof wx?null:wx;if(!f||!a.isFunction(f.createCanvasContext))return a.throwError("no param {Object} Ctx","setContext"),!1;var d=f.createCanvasContext(o.id);i={info:"Weapp native canvas",width:s,height:c,getContext:function(){return d},draw:function(e){if(e)return d.draw(!0);f.drawCanvas({canvasId:o.id,actions:t.ctx.getActions()})}}}else{var p=o.Canvas;o.Canvas||a.throwError("no param {Object} Canvas","setContext"),i=p.createCanvas(s,c),o.handleOut&&o.handleOut(i)}t.canvas=i,t.ctx=i.getContext("2d"),t._chart={width:i.width,height:i.height}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRange=function(t){return t?t>2?4*Math.ceil(t/4):1.2*t:1},e.getAngle=function(t,e,n,r){var a=Math.atan2(n-t,e-r);return a<0?2*Math.PI+a:a},e.getDistance=function(t,e,n,r){return Math.sqrt(Math.pow(t-n,2)+Math.pow(e-r,2))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=n(1),i=n(5),o=function(){function t(t){this.yaxis={min:0,max:0,range:0,unit:0},this.xaxis={min:0,max:0,range:0,unit:0},this.xRate=0,this.xBasic=0,this.yRate=0,this.yBasic=0,this.drawPoint=a.drawPoint,this.chartjs=t}return t.prototype.getBasicData=function(t){var e,n,a=this.chartjs.opts,i=t||a.datas,o=a.range;return o?(void 0!==o.min&&void 0!==o.max||r.throwError('param range need params "min" and "max"',"setConfig"),e=o.min,n=o.max):i&&i.length&&r.each(i,function(t){var a=r.getExtremum(t),i=a._max,o=a._min;e=void 0!==e&&e<o?e:o,n=n&&n>i?n:i}),[e||0,n||0]},t.prototype.clearCtn=function(t){var e=this.chartjs,n=e.opts,r=n.backgroundColor,a=e.ctx,i=e._chart.width,o=e._chart.height;a.beginPath();var s=(~r.replace(" ","").indexOf("0)")?a.clearRect:a.rect).bind(a);t?s(n.chartLeft-4,n.chartTop-5,i+1,o-16-n.chartTop):s(0,0,1e5,1e5),a.fillStyle=r,a.fill(),a.closePath()},t.prototype.drawDashs=function(t){var e=this.chartjs,n=e.opts,r=n.grid,i=n.dash,o=i.isSolid,s=n.dash.color,c=r.showGrid,h=r.xTickLength,u=r.yTickLength,l=e.ctx;l.save();var f=e._chart.width-n.chartRight+2,d=(e._chart.height-n.chartTop-30)/(u-1),p=(f-2-n.chartLeft)/(h-1),v=(u-1)*d+n.chartTop+5.5;if(!n.noDash){l.strokeStyle=s,l.beginPath(),l.lineWidth=1;for(var y=o?a.drawLine:a.drawDashLine,x=o?f-2:f,g=0;g<u;g++){var w=t||g*d+5+n.chartTop;y(l,n.chartLeft,w,x,w,i.length)}if(h){var _=n.chartTop+5;for(g=0;g<h;g++){var m=g*p+n.chartLeft-.5;y(l,m,v,m,_,i.length)}}}if(c){r.color&&(l.strokeStyle=r.color);var b=n.chartLeft-.5,j=e.drawer.zeroY||v;a.drawLine(l,b,n.chartTop,b,v),a.drawLine(l,b,j,f-2,j),l.stroke()}l.strokeStyle=s,l.restore()},t.prototype.drawTexts=function(t,e){var n=this.chartjs,r=n.opts,a=r.grid.yTickLength,i=r.font,o=n.ctx,s=r.xaxis,c=n._chart.width,h=n._chart.height;if(r.handleTextX&&(t=r.handleTextX),r.handleTextY&&(e=r.handleTextY),o.lineWidth=1,o.textAlign="right",o.textBaseline="middle",o.font=i.fontSize.x+" "+i.fontFamily,o.fillStyle=i.color,t)t(o,s);else{var u=h-10;o.fillText(s[s.length-1],c-r.chartRight,u),o.textAlign="left",o.fillText(s[0],r.chartLeft,u)}o.font=i.fontSize.y+" "+i.fontFamily,o.textAlign="right";var l=this.yaxis;if(e)e(o,l);else for(var f=r.chartLeft-5,d=r.yaxisfunc||function(t){return t.toFixed(2)},p=0;p<a;p++){var v=l.min+p*l.unit;o.fillText(d(v),f,this.yRate*v+this.yBasic)}},t.prototype.drawHover=function(t,e){},t.prototype.setEvents=function(){var t=this,e=this.chartjs.canvas,n=this.chartjs.opts,r=n.events;if(!r||!n.inBrowser)return!1;r.forEach(function(n){e.addEventListener(n,function(e){var r=~n.indexOf("touch")?e.touches[0]:e,a=r.clientX,i=r.pageY-r.target.offsetTop;return t.drawHover(a,i),!1},!1)})},t.prototype.setAnimation=function(t){var e=this.chartjs.opts;i.animation({duration:e.duration,onProcess:t,onAnimationFinish:e.onFinish})},t}();e.default=o},function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zeroY=0,e}return a(e,t),e.prototype.setDataset=function(){var t,e=this.chartjs,n=e.opts,r=n.datas,a=n.grid.yTickLength,i=this.getBasicData(),o=i[0],s=i[1],c=n.range;c?t=c.max-c.min:o<0?(o=~~o,-(s=Math.ceil(s))<o?o=-s:s=-o,t=2*s):((t=s-o)||(o=0,t=1),t=t>5?5*Math.ceil(t/5):Math.ceil(1.2*t)),this.yaxis={min:o,max:o+t,range:t,unit:t/(a-1)};var h=e._chart.width,u=e._chart.height,l=this.yRate=(30-u+n.chartTop)/this.yaxis.range,f=this.yBasic=5-this.yaxis.max*l+n.chartTop;this.zeroY=o<0?f:u-24;var d=e.pixelRatio||1,p=r[0].length,v=n.chartLeft+n.chartRight,y=n.barMargin||n.barWidth&&e.pixelRatio*~~((h-v)/p-n.barWidth*(n.isStack?1:r.length))||p>=10&&40-(p-10)*d||n.bar.margin;y=y<0?0:y/d,this.xaxis={min:0,max:p-1,range:p,unit:1};var x=e.barWidth=n.barWidth||~~((h-v)/p-y);e.datasets=r.map(function(t){return t.map(function(t,e){return{x:e*x+(e+.5)*y+n.chartLeft,y:t*l+f,value:t}})})},e.prototype.rotateContext=function(t,e,n,r,a){t.save(),t.translate(e,n),t.rotate(r*Math.PI/180),t.fillText(a,0,0),t.restore()},e.prototype.drawBars=function(t,e){void 0===t&&(t=1);var n=this.chartjs,r=n.opts,a=r.isStack?0:1,o=r.singleColorful,s=n.ctx,c=n.datasets,h=n.oldDataset,u=n.barWidth/(r.isStack?1:c.length),l=this.zeroY;s.beginPath(),s.lineWidth=0,s.strokeStyle=r.backgroundColor,i.each(c,function(n,c){var f=h&&h[c];i.each(n,function(n,h){var d=i.Lighting(n.y>l&&r.negativeColor||r.colors[o?h:c]||r.colors[c],h===e?r.hoverHighlight:0),p=n.x+a*u*c;s.fillStyle="rgb("+d.join(",")+")",f?s.fillRect(p,l,u,(n.y-f[h].y)*t+(f[h].y-l)):s.fillRect(p,l,u,(n.y-l)*t)}),s.stroke()}),s.save(),1===t&&(n.oldDataset=null)},e.prototype.drawXaxisTexts=function(t,e){var n=this,r=this.chartjs,a=r._chart.height-10,o=r.barWidth,s=e.length,c=r.datasets[0],h=s>30?90:s>10?3*s:0;t.textAlign="center",i.each(c,function(r,i){var s=e[i];s&&(h?n.rotateContext(t,r.x+o,a,h,s):t.fillText(s,r.x+o,a))})},e.prototype.draw=function(t,e,n){var r=this,a=this.chartjs,o=a.opts,s=a.datasets;this.clearCtn(!t),this.drawDashs(),t&&(s&&(a.oldDataset=i.cloneArray([],s)),this.setDataset(),this.drawTexts(this.drawXaxisTexts.bind(this))),n||(e||!o.inBrowser&&!o.inWeapp?(this.drawBars(1),o.onFinish&&o.onFinish()):this.setAnimation(function(t){r.clearCtn(!0),r.drawDashs(),r.drawBars(t),o.onAnimation&&o.onAnimation.call(r,t),o.inWeapp&&a.ctx.draw(!0)}))},e.prototype.drawHover=function(t,e){var n=this.chartjs,r=n.opts;if(n.oldDataset)return!1;if(t>n._chart.width-r.chartRight||t<r.chartLeft)return!1;for(var a=-1,o=Math.abs(n.barWidth),s=n.datasets.length,c=n.datasets[0],h=[],u=0,l=c.length;u<l;u++){var f=c[u];if(t>=f.x&&t<=f.x+o*s){a=u;break}}return!(a<0)&&(i.each(n.datasets,function(t){h.push(t[a].value)}),this.draw(!1,!0,!0),this.drawBars(1,a),r.hover&&r.hover.call(n,a,h,r.xaxis[a],t,e),r.inWeapp&&n.canvas.draw(!0),a)},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),!t.inBrowser||t.inWeapp||t.noHoverEvent||this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(n(3).default);e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.animation=function(t){var e=23,n=t.duration||600,r=t.onProcess||function(){},o=t.onAnimationFinish||function(){},s=a(),c=null;s(function t(a){if(null===a)return r(1),o(),!1;null===c&&(c=a);if(a-c<n){var h=(a-c)/n;h=i(h),r(h),s(t,e)}else r(1),o()},e)};var r=void 0;"undefined"!=typeof window&&(r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame);var a=function(){return void 0!==r?(a=function(){return r},r):function(t,e){setTimeout(function(){t(+new Date)},e)}},i=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(2),s=n(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setDataset=function(){var t=this.chartjs,e=t.opts,n=e.grid.yTickLength,r=e.datas,a=[];i.each(r,function(t){a.push.apply(a,t)});var s,c,h=this.getBasicData([a]),u=h[0],l=h[1];e.range?(s=u,c=l-u):(s=(c=o.getRange(l-u))>2?Math.floor(u):u)+c<l&&(s=u),this.yaxis={min:s,max:s+c,range:c,unit:c/(n-1)};var f=this.yRate=(30-t._chart.height+e.chartTop)/c,d=this.yBasic=5-this.yaxis.max*f+e.chartTop,p=r.length;p=p>1?p:2,this.xaxis={min:0,max:p-1,range:p,unit:1};var v=this.xBasic=e.chartLeft+10,y=this.xRate=(t._chart.width-e.chartLeft-e.chartRight-20)/(p-1),x=[];1===r.length&&(r[1]=r[0]),i.each(r,function(t,e){x.push({x:e*y+v,ymin:t[2]*f+d,ystart:t[0]*f+d,yend:t[1]*f+d,ymax:t[3]*f+d,value:t})}),t.dataset=x,e.barWidth||(e.barWidth=p<10?"20":~~(.6*this.xRate),e.barWidth<1&&(e.barWidth=1))},e.prototype.drawUnit=function(t,e,n,r,a){var i,o,c,h=!1;e.yend<e.ystart?(a&&(h=!0),i=n[0],o=e.ystart,c=e.yend):(i=n[4],o=e.yend,c=e.ystart),t.fillStyle=t.strokeStyle=i,s.drawLine(t,e.x,e.ymin,e.x,o),s.drawLine(t,e.x,e.ymax,e.x,c),t.beginPath(),t[h?"rect":"fillRect"](e.x-r/2,c,r,o-c),t.closePath(),t.stroke()},e.prototype.drawLine=function(t){void 0===t&&(t=1);var e=this.chartjs,n=e.opts,r=e.ctx,a=e.dataset;r.lineWidth=1;for(var i=0,o=t*a.length;i<o;i++){var s=a[i];this.drawUnit(r,s,n.colors,n.barWidth,n.upHollow)}r.save()},e.prototype.draw=function(t,e){var n=this,r=this.chartjs.opts;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),e||!r.inBrowser&&!r.inWeapp?(this.drawLine(1),r.onFinish&&r.onFinish()):this.setAnimation(function(t){n.clearCtn(!0),n.drawDashs(),n.drawLine(t),r.onAnimation&&r.onAnimation.call(n,t),r.inWeapp&&n.chartjs.ctx.draw(!0)})},e.prototype.drawHover=function(t,e){var n=this.chartjs,r=n.opts;this.draw(r.inWeapp||null,!0);var a=n.ctx;if(t>n._chart.width-r.chartRight||t<r.chartLeft||e<r.chartTop||e>n._chart.height-(35-r.chartTop))return!1;var i=Math.round((t-this.xBasic)/this.xRate);if(!n.dataset[i])return!1;var o=Math.round(n.dataset[i].x)+.3;return a.save(),a.strokeStyle=r.hoverLineColor,a.lineWidth=.5,s.drawLine(a,r.chartLeft+.3,e,n._chart.width-14.7,e),s.drawLine(a,o,6+r.chartTop,o,n._chart.height-25),r.hover&&r.hover.call(n,i,[r.datas[i]],r.xaxis[i],t,e),a.restore(),r.inWeapp&&n.canvas.draw(!0),i},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(n(3).default);e.default=c},function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(2),s=n(1),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setDataset=function(){var t,e,n=this.chartjs,r=n.opts,a=r.grid.yTickLength,s=r.datas,c=this.getBasicData(),h=c[0],u=c[1];r.range?(t=h,e=u-h):(t=(e=o.getRange(u-h))>2?Math.floor(h):h)+e<u&&(t=h),this.yaxis={min:t,max:t+e,range:e,unit:e/(a-1)};var l=this.yRate=(30-n._chart.height+r.chartTop)/e,f=this.yBasic=5-this.yaxis.max*l+r.chartTop,d=s[0].length;d=d>1?d:2,this.xaxis={min:0,max:d-1,range:d,unit:1};var p=this.xBasic=r.chartLeft,v=this.xRate=(n._chart.width-r.chartLeft-r.chartRight)/(d-1),y=[];i.each(s,function(t){var e=[];1===t.length&&(t[1]=t[0]),i.each(t,function(t,n){e.push({x:Math.ceil(n*v+p),y:t*l+f,value:t})}),y.push(e)}),n.datasets=y},e.prototype.drawLine=function(t){void 0===t&&(t=1);var e=this.chartjs,n=e.datasets,r=e.opts,a=e.ctx;a.lineWidth=1;var o=e._chart.height-24,s=e.oldDatasets,c=s&&s[0].length,h=c&&1!==t?function(e,n,r){var i=e.x,o=e.y,s=r[n]||r[c-1];a.lineTo((i-s.x)*t+s.x,r[n]?(o-s.y)*t+s.y:o)}:function(t){a.lineTo(t.x,t.y)};i.each(n,function(e,u){a.save();var l=n[u][0],f=c?e:e.slice(0,~~(t*e.length)),d=(f=f.filter(function(t){return void 0!==t.value&&t})).length;if(!d)return!1;var p,v,y,x=r.curveLine?function(e,n){return function(e,n,r){n=n||e;var i=(e.x+n.x)/2,s=o*(1-t)+(e.y+n.y)*t/2;a.quadraticCurveTo(e.x,e.y,i,s)}(e,f[n+1],s&&s[u])}:function(t,e){return h(t,e,s&&s[u])};if(r.allGradient||0===u&&!r.noGradient){if(a.beginPath(),a.lineWidth=0,a.strokeStyle=r.backgroundColor,a.moveTo(r.chartLeft,o),a.lineTo(l.x+.5,o*(1-t)+l.y*t),i.each(f,x),s&&s[0]){var g=s[0].filter(function(t){return void 0!==t.value&&t}),w=g[d-1]||g[g.length-1]||f[d-1],_=(f[d-1].x-w.x)*t+w.x;a.lineTo(_,(f[d-1].y-w.y)*t+w.y),a.lineTo(_,o)}else a.lineTo(f[d-1].x+.5,o);a.closePath(),a.stroke(),p=r.colors[u],v=a.createLinearGradient(0,0,0,170),y=i.getColorRgbArr(p).join(","),v.addColorStop(0,"rgba("+y+", 0.3)"),v.addColorStop(.8,"rgba("+y+", 0.1)"),v.addColorStop(1,"rgba("+y+", 0.05)"),a.fillStyle=v,a.fill()}a.lineWidth=r.lineWidths&&r.lineWidths[u]||1,a.strokeStyle=r.colors[u],a.beginPath(),s&&s[u]?a.moveTo(l.x,(l.y-s[u][0].y)*t+s[u][0].y):a.moveTo(l.x,l.y),i.each(f,x),a.stroke(),a.restore()}),a.save(),1===t&&(e.oldDatasets=null)},e.prototype.drawHover=function(t,e){var n=this,r=this.chartjs,a=r.opts;if(a.curveLine||r.oldDatasets)return!1;this.draw(a.inWeapp||null,!0);var o=r.ctx,c=r._chart.width-a.chartRight;t=t<a.chartLeft?a.chartLeft:t>c?c:t;var h=Math.round((t-this.xBasic)/this.xRate),u=[],l=0,f=[],d=r.datasets;return i.each(d,function(t,e){var r=t[h];!a.hideHoverPoints&&r&&f.unshift(function(){n.drawPoint(o,r.x,r.y-1,a.colors[e],a.pointStyle,4,1)}),l=r.x,u.push(r.value)}),a.noHoverLine||(l+=.3,o.lineWidth=.5,o.strokeStyle=a.hoverLineColor,s.drawLine(o,l,6+a.chartTop,l,r._chart.height-25)),f.length&&i.each(f,function(t){return t()}),a.hover&&a.hover.call(r,h,u,a.xaxis[h],t,e),o.restore(),a.inWeapp&&r.canvas.draw(!0),h},e.prototype.draw=function(t,e){var n=this,r=this.chartjs,a=r.opts,o=r.datasets;this.clearCtn(!t),this.drawDashs(),t&&(o&&(r.oldDatasets=i.cloneArray([],o)),this.setDataset(),this.drawTexts()),e||a.curveLine||!a.inBrowser&&!a.inWeapp?(this.drawLine(),a.onFinish&&a.onFinish()):this.setAnimation(function(t){n.clearCtn(!0),n.drawDashs(),n.drawLine(t),a.onAnimation&&a.onAnimation.call(n,t),a.inWeapp&&r.ctx.draw(!0)})},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(n(3).default);e.default=c},function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),s=n(2),c=n(1),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.origin=null,e.centerArr=null,e}return a(e,t),e.prototype.drawPie=function(t,e,n){void 0===t&&(t=.6),void 0===e&&(e=1),t=t>.9?.9:t;var r=this.chartjs,a=r.opts,s=a.origin||{},h=a.widthRates,u=r.drawer,l=a.backgroundColor,f=a.colors,d=a.datas,p=r.oldDataset;this.clearCtn();var v=r.ctx,y=r._chart,x=y.width,g=y.height,w=a.radius||g/2-20,_=w*t,m=i({x:x/2,y:w+20},s),b=m.x,j=m.y;this.origin=m,u.radius=w,u.radiusWhite=_;var P=a.startAngle||-.5*Math.PI,O=P;v.save(),v.lineWidth=a.lineWidth,v.strokeStyle=l;var T=[];o.each(d,function(t,r){var i=n===r;O+=2*Math.PI*(1!==e&&p?(d[r]-p[r])*e+p[r]:d[r]*e),i&&a.hoverRate&&(v.fillStyle=i?o.getColorRgba(f[r],.6):f[r],v.beginPath(),v.moveTo(b,j),v.arc(b,j,w*(h&&h[r]||1)*a.hoverRate,P,O,!1),v.closePath(),v.fill()),v.fillStyle=i?o.getColorRgba(f[r],.8):f[r],v.beginPath(),v.moveTo(b,j),v.arc(b,j,w*(h&&h[r]||1),P,O,!1),v.closePath(),v.fill(),a.lineWidth&&(v.lineJoin="round",v.stroke()),1===e&&T.push((O+P)/2),P=O}),~l.indexOf(",0)")?c.clearArc(v,b,j,_):c.drawPoint(v,b,j,l,"",_,0),1===e&&(this.centerArr=T,r.oldDataset=null,r.dataset=d)},e.prototype.draw=function(t,e){var n=this,r=this.chartjs,a=r.opts;t&&(r.oldDataset=o.cloneArray([],r.dataset)),e||!a.inBrowser&&!a.inWeapp?(this.drawPie(a.annularRate,1),a.onFinish&&a.onFinish()):this.setAnimation(function(t){n.drawPie(a.annularRate,t),a.onAnimation&&a.onAnimation.call(n,t),a.inWeapp&&n.chartjs.ctx.draw(!0)}),a.inWeapp&&this.chartjs.canvas.draw()},e.prototype.drawHover=function(t,e){var n=this.chartjs,r=n.opts,a=r.datas,i=this.origin;if(n.oldDataset)return!1;for(var o,c=s.getAngle(i.x,i.y,t,e),h=c/(2*Math.PI),u=0,l=0,f=a.length;l<f;l++)if(h<(u+=a[l])){o=l;break}return!(void 0===o||s.getDistance(t,e,i.x,i.y)>n.drawer.radius+5)&&(this.drawPie(r.annularRate,1,o),r.inWeapp&&n.canvas.draw(!0),r.hover&&r.hover.call(n,o,[a[o||0]],c,t,e),o)},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!1,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(n(9).default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),a=function(){function t(t){this.chartjs=t}return t.prototype.clearCtn=function(){var t=this.chartjs.ctx,e=this.chartjs.opts.backgroundColor;t.beginPath(),t[~e.replace(" ","").indexOf(",0)")?"clearRect":"rect"](0,0,1e5,1e5),t.fillStyle=e,t.fill(),t.closePath()},t.prototype.drawHover=function(t,e){},t.prototype.setEvents=function(){var t=this,e=this.chartjs.canvas,n=this.chartjs.opts,r=n.events;if(!r||!n.inBrowser)return!1;r.forEach(function(n){e.addEventListener(n,function(e){var r=~n.indexOf("touch")?e.touches[0]:e,a=r.clientX,i=r.pageY-r.target.offsetTop;return t.drawHover(a,i),!1},!1)})},t.prototype.setAnimation=function(t){var e=this.chartjs.opts;r.animation({duration:e.duration,onProcess:t,onAnimationFinish:e.onFinish})},t}();e.default=a},function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),s=n(1),c=n(2),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.radius=0,e.origin=null,e.sideArr=[],e}return a(e,t),e.prototype.setDataset=function(t){var e=this.chartjs,n=e.opts,r=n.origin||{},a=n.datas,s=0;o.each(a,function(t){var e=o.max(t);e>s&&(s=e)}),e.rangeMax=Math.ceil(1*s/(n.maxRate||.9));var c=e._chart,h=c.width,u=c.height;if(this.radius=n.radius||u/2-10,this.origin=i({x:h/2,y:u/2},r),t)return e.oldDataset=o.cloneArray([],e.dataset),!1;this.sideArr=function(t){for(var e=[],n=2*Math.PI/t,r=0;r<t;r++)e.push({x:Math.sin(n*r),y:Math.cos(n*r)});return e}(e.side=a[0].length)},e.prototype.drawRadar=function(t,e){void 0===t&&(t=1);var n=this.chartjs,r=n.opts,a=r.colors;this.clearCtn();var i=n.ctx,c=this.radius,h=this.origin,u=h.x,l=h.y,f=this.sideArr,d=f[0],p=n.oldDataset,v=r.gridNumber||3;i.lineWidth=1,i.strokeStyle=r.dash.color;for(var y=function(t){var e=(t+1)/v*c;i.beginPath(),i.moveTo(u+d.x*e,l-d.y*e),o.each(f,function(t){i.lineTo(u+t.x*e,l-t.y*e)}),i.lineTo(u+d.x*e,l-d.y*e),i.closePath(),r.fillGrid?(i.fillStyle=o.getColorRgba(r.fillGrid,(v-t)/v*.8),i.fill()):i.stroke(),t+1===v&&o.each(f,function(t){s.drawLine(i,u,l,u+t.x*e,l-t.y*e)})},x=0;x<v;x++)y(x);var g=n.rangeMax,w=[],_=c*(p?1:t)/g;o.each(r.datas,function(n,c){w[c]=[],function(n,c,h){i.strokeStyle=a[c],i.fillStyle=o.getColorRgba(a[c],.4),i.beginPath(),o.each(n,function(e,n){var r=f[n],a=h&&h[n];if(r){var o=void 0,s=void 0;o=u+e*r.x*_,s=l-e*r.y*_,a&&(o=a.x+(o-a.x)*t,s=a.y+(s-a.y)*t),w[c].push({x:o,y:s}),i.lineTo(o,s)}}),i.lineTo(w[c][0].x,w[c][0].y),i.closePath(),i.stroke(),r.noFill||i.fill(),i.save();var d=r.hidePoints?0:3;o.each(w[c],function(t,n){s.drawPoint(i,t.x,t.y,a[c],r.pointStyle,e===n?5:d,e===n?1:0)}),i.restore()}(n,c,p&&p[c])}),1===t&&(n.oldDataset=null,n.dataset=w)},e.prototype.drawHover=function(t,e){var n=this.chartjs,r=n.opts,a=this.origin,i=this.sideArr.length;if(n.oldDataset||c.getDistance(t,e,a.x,a.y)>n.drawer.radius+5)return!1;var o=c.getAngle(a.x,a.y,t,e),s=Math.PI/i,h=Math.floor(o/s);(h=Math.round(h+(1&h?1:0))/2)===i&&(h=0);var u=r.datas.map(function(t){return t[h]});return this.drawRadar(1,h),r.inWeapp&&n.canvas.draw(!0),r.hover&&r.hover.call(n,h,u,o,t,e),h},e.prototype.draw=function(t,e){var n=this;this.setDataset(t);var r=this.chartjs.opts;e||!r.inBrowser&&!r.inWeapp?(this.drawRadar(1),r.onFinish&&r.onFinish()):this.setAnimation(function(t){n.drawRadar(t),r.onAnimation&&r.onAnimation.call(n,t),r.inWeapp&&n.chartjs.ctx.draw(!0)})},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!1,t.noAnimation),this.setEvents(),t.inWeapp&&this.chartjs.canvas.draw()},e}(n(9).default);e.default=h},function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(2),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setDataset=function(){var t,e,n=this.chartjs,r=n.opts,a=r.range,s=r.grid.yTickLength,c=r.datas,h=null,u=null;if(a)h={x:a.x[0],y:a.y[0]},t=(u={x:a.x[1],y:a.y[1]}).x-h.x,e=u.y-h.y;else{var l=[],f=[];i.each(c,function(t){i.each(t,function(t){l.push(t[0]),f.push(t[1])})});var d=i.getExtremum(l),p=i.getExtremum(f);h={x:d._min,y:p._min},u={x:d._max,y:p._max},l=[],f=[],t=o.getRange(u.x-h.x),h.x=t>2?Math.floor(h.x):h.x,e=o.getRange(u.y-h.y),h.y=e>2?Math.floor(h.y):h.y}r.xaxisfunc?r.xaxis=[r.xaxisfunc(h.x),r.xaxisfunc(u.x)]:r.xaxis=[h.x.toFixed(2),u.x.toFixed(2)],this.yaxis={min:h.y,max:h.y+e,range:e,unit:e/(s-1)};var v=this.yRate=(30-n._chart.height+r.chartTop)/e,y=this.yBasic=5-this.yaxis.max*v+r.chartTop;this.xaxis={min:h.x,max:h.x+t,range:t,unit:t/4};var x=this.xRate=(n._chart.width-65)/t,g=this.xBasic=50;n.datasets=c.map(function(t){return t.map(function(t){return{x:t[0]*x+g,y:t[1]*v+y,value:t}})})},e.prototype.drawPoints=function(t){var e=this;void 0===t&&(t=1);var n=this.chartjs,r=n.opts,a=r.borderRate||.8,o=n.datasets;i.each(o,function(s,c){var h=i.getColorRgba(r.colors[c],.3),u=(r.pointWidths&&r.pointWidths[c]||6-4*c/o.length)*t,l=u*a;i.each(s,function(t){e.drawPoint(n.ctx,t.x,t.y,r.colors[c],h,u,l)})})},e.prototype.draw=function(t,e){var n=this,r=this.chartjs.opts;this.clearCtn(!t),this.drawDashs(),t&&(this.setDataset(),this.drawTexts()),e||!r.inBrowser&&!r.inWeapp?(this.drawPoints(),r.onFinish&&r.onFinish()):this.setAnimation(function(t){n.clearCtn(!0),n.drawDashs(),n.drawPoints(t),r.onAnimation&&r.onAnimation.call(n,t),r.inWeapp&&n.chartjs.ctx.draw(!0)})},e.prototype.init=function(){var t=this.chartjs.opts;this.draw(!0,t.noAnimation),t.inWeapp&&this.chartjs.canvas.draw()},e}(n(3).default);e.default=s},function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),o={version:"0.9.7"};["line","bar","scatter","kline","pie","radar"].forEach(function(t){Object.defineProperty(o,t,{configurable:!1,enumerable:!0,get:function(){var e=n(16)("./"+t).default;return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.init=function(t){t||this._init(),this.drawer=new e(this),t||this.drawer.init()},n}(i.default)}})}),t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=n(1),i=n(15),o=i.default.inBrowser,s=i.default.inWeapp,c=function(){function t(t){this.$el=null,this.drawer=null,this.canvas=null,this.ctx=null;var e=t.id,n=t.colors,a=t.data,s=t.datas;e&&(a||s)?(o&&(this.$el=document.getElementById(e)),n&&(t.colors=n.concat(i.default.colors)),t=r.cloneObjDeep(i.default,t),a&&(t.datas=[a],delete t.data),this.opts=t):r.throwError("no container id or datas in options","setConfig")}return t.prototype.update=function(t){t&&(t.data&&(t.datas=[t.data],delete t.data),this.opts=r.cloneObjDeep(this.opts,t)),this.drawer.draw(!0,this.opts.noAnimation)},t.prototype._init=function(){a.setContext(this,o,s),o&&(this.pixelRatio=a.retinaScale(this.canvas,this.ctx))},t}();e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.getStyle=function(t,e){var n=t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="undefined"!=typeof wx&&void 0!==wx.getSystemInfo,a=r?2:1,i={id:"",inBrowser:"undefined"!=typeof window&&!r,inWeapp:r,backgroundColor:"rgba(0,0,0,0)",colors:["#fe5d4e","#43c2f7","#707ad9","#ffa61b","#64d290","#cf27bd"],duration:600,events:["touchstart","touchmove"],hoverLineColor:"#999",hoverHighlight:.5,grid:{yTickLength:5},bar:{margin:60/a},chartTop:0,chartLeft:50/a,chartRight:15,dash:{color:"#e2e2e2",length:3/a},font:{color:"#666",fontFamily:"Arial",fontSize:{x:"11px",y:"10px"}}};e.default=i},function(t,e,n){var r={"./bar":4,"./bar.ts":4,"./kline":6,"./kline.ts":6,"./line":7,"./line.ts":7,"./pie":8,"./pie.ts":8,"./radar":10,"./radar.ts":10,"./scatter":11,"./scatter.ts":11};function a(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id=16}])});