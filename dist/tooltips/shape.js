/*!
 * 
 * @description FundCharts Tooltips.
 * @version 0.9.9
 * @author Wayne(michealwayne@163.com)
 * @time 2018~2021
 */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o=e();for(var i in o)("object"==typeof exports?exports:t)[i]=o[i]}}(window,(function(){return function(t){var e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=3)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="undefined"!=typeof wx&&void 0!==wx.getSystemInfoSync;e.default={isWeapp:i,dpr:(i?wx.getSystemInfoSync().pixelRatio:window.devicePixelRatio)||1,circularAngle:2*Math.PI,width:70,height:20,font:"10px Arial",pieFont:"bold 22px Arial",labelFont:"bold 12px Arial",textAlign:"center",colors:{color:"#fff",backgroundColor:"#bdbdbd",valColor:"#eee"}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawPoint=e.drawTriangle=e.handleArguments=e.handleWeappDraw=e.getLimitedVal=e.handleShowValTipsStr=e.isString=e.isFunction=e.isUndefined=e.half=e.emptyFunc=void 0;var i=o(0),n=i.default.isWeapp,r=i.default.circularAngle;function l(t){return void 0===t}function a(t){return"function"==typeof t}function s(t){return"string"==typeof t}e.emptyFunc=function(){return""},e.half=function(t){return~~(t/2)},e.isUndefined=l,e.isFunction=a,e.isString=s,e.handleShowValTipsStr=function(t,e,o){return a(t)?t(e):s(t)?t:l(o)?e:o},e.getLimitedVal=function(t,e,o){return t<e?e:t>o?o:t},e.handleWeappDraw=n?function(t){return a(t.draw)&&t.draw(!0)}:e.emptyFunc,e.handleArguments=function(t){return function(e,o,i,n,r){if(!this.ctx)throw Error("canvas `ctx` is not find. Please check `this` point.(FundChartsToolTip)");t.call(this,{xData:i,yDatas:o,xPos:n,yPos:r,index:e})}},e.drawTriangle=function(t,e){return 3===(null==e?void 0:e.length)&&(t.beginPath(),t.moveTo(e[0].x,e[0].y),t.lineTo(e[1].x,e[1].y),t.lineTo(e[2].x,e[2].y),t.closePath(),t.fill(),!0)},e.drawPoint=function(t){var e=t.ctx,o=t.x,i=t.y,n=t.color,a=t.strokeColor,s=t.width,d=t.strokeWidth;e.beginPath(),e.lineWidth=0,e.strokeStyle=a||"#fff",e.lineWidth=l(d)?1:d,e.arc(o,i,s,0,r,!0),e.closePath(),e.fillStyle=n,e.fill(),d&&e.stroke()}},,function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LabelsToolTip=e.PieLabelToolTip=e.PieCenterToolTip=void 0;var i=o(1),n=o(0),r=n.default.colors;e.PieCenterToolTip=i.handleArguments((function(t){var e=t.yDatas,o=t.index,l=this.ctx,a=this.opts,s=(this.drawer||{}).origin,d=a.toolTip||{},f=d.font,c=void 0===f?n.default.pieFont:f,u=d.color,h=d.valColor,p=void 0===h?r.valColor:h,v=d.textAlign,x=void 0===v?n.default.textAlign:v,y=d.valY,T=void 0===y?s.y:y,w=d.showTip,g=d.showValTip;l.save(),l.fillStyle=u||a.colors[o],l.font=c,l.textAlign=x;var b=i.isFunction(w)&&w(o)||w||"";l.fillText(b,s.x,T-10),l.fillStyle=p;var S=i.isFunction(g)&&g(e[0])||g||(100*e[0]).toFixed(1);l.fillText(S,s.x,T+15),l.restore(),i.handleWeappDraw(l)})),e.PieLabelToolTip=i.handleArguments((function(t){var e=t.yDatas,o=t.index,l=this.ctx,a=this.opts,s=a.toolTip||{},d=s.font,f=void 0===d?n.default.labelFont:d,c=s.color,u=s.valColor,h=void 0===u?r.valColor:u,p=s.textAlign,v=void 0===p?n.default.textAlign:p,x=s.showTip,y=s.showValTip;l.save();var T=this.drawer,w=T.origin,g=T.radius,b=T.centerArr,S=Math.sin(b[o])*g,P=Math.cos(b[o])*g;a.widthRates&&(S*=a.widthRates[o]||1,P*=a.widthRates[o]||1);var m=a.chartLeft,F=this._chart.width-m;l.beginPath(),l.moveTo(w.x+P,w.y+S),l.lineTo(w.x+1.2*P,w.y+1.2*S),l.lineTo(P>0?F-20:m+20,w.y+1.2*S),l.strokeStyle=l.fillStyle=a.colors[o],l.lineWidth=1,l.stroke(),l.font=f,l.textAlign=v,l.textBaseline="middle",l.fillStyle=c||a.colors[o];var A=i.isFunction(x)&&x(o)||x||"";l.fillText(A,P>0?F:m,w.y+1.2*S-10),l.fillStyle=h;var C=i.handleShowValTipsStr(y,e[0],(100*e[0]).toFixed(2));l.fillText(C,P>0?F:m,w.y+1.2*S+5),l.closePath(),l.restore(),i.handleWeappDraw(l)})),e.LabelsToolTip=i.handleArguments((function(t){var e=t.yDatas,o=t.index,l=this.ctx,a=this.opts,s=a.toolTip||{},d=s.font,f=void 0===d?n.default.labelFont:d,c=s.color,u=s.valColor,h=void 0===u?r.valColor:u,p=s.valY,v=s.valX,x=s.showTip,y=s.showValTip;l.save();var T=this.side,w=this.drawer.origin,g=this.dataset,b=this._chart.width,S=v;S||(S=w.x>b/2?a.chartLeft+20:b-a.chartRight-70);var P=p||w.y,m={ctx:l,x:S,y:0,color:"",strokeColor:"",width:4,strokeWidth:1};T?g.forEach((function(t,e){m.y=P-4+15*e,m.color=m.strokeColor=a.colors[e],i.drawPoint(m)})):(m.y=P-4,m.color=m.strokeColor=a.colors[o],i.drawPoint(m)),l.font=f;var F=i.isFunction(x)&&x(o)||x||"";if(T)g.forEach((function(t,o){l.fillStyle=c||a.colors[o],l.fillText(F,S+10,P+15*o);var n=i.handleShowValTipsStr(y,e[0],(1*e[0]).toFixed(2));l.fillStyle=h,l.fillText(n,S+l.measureText(F).width+15,P+15*o)}));else{l.fillStyle=c||a.colors[o],l.fillText(F,S+10,P);var A=i.handleShowValTipsStr(y,e[0],(100*e[0]).toFixed(2));l.fillText(A,S+l.measureText(F).width+15,P)}l.restore(),i.handleWeappDraw(l)}))}])}));